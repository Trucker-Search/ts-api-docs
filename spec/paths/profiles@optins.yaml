delete:
  parameters:
    - $ref: '#/parameters/end-user-token'
  responses:
    '204':
      description: Status 204
  summary: STAGE=UNK Marks the user as opted out.
  tags:
    - profiles
get:
  parameters:
    - $ref: '#/parameters/end-user-token'
    - enum:
        - email
        - text
        - push
      in: header
      name: notification_medium
      required: true
      type: string
  responses:
    '200':
      description: Status 200
      schema:
        properties:
          status:
            enum:
              - optin
              - optout
              - no response
              - no record
            type: string
        required:
          - status
        type: object
  summary: STAGE=UNK Returns the users optin status.
  tags:
    - profiles
patch:
  consumes: []
  parameters:
    - $ref: '#/parameters/end-user-token'
    - in: body
      name: body
      required: true
      schema:
        properties:
          notification_medium:
            enum:
              - email
              - text
              - push
            type: string
          optin_code:
            type: string
        required:
          - notification_medium
          - optin_code
        type: object
  responses:
    '204':
      description: Status 204
  summary: STAGE=UNK Mark a profile as opted in.
  tags:
    - profiles
post:
  consumes: []
  parameters:
    - $ref: '#/parameters/end-user-token'
    - in: body
      name: body
      required: true
      schema:
        properties:
          notification_medium:
            enum:
              - email
              - text
              - push
            type: string
          subscription_category:
            description: >-
              category like newsletter, messages, load alerts, android, ios,
              etc...
            type: string
          tokens:
            description: required if notification_medium is push.   maximum 250 characters
            example: 'ios=XXXXXXXXXX,firebase=XXXXXXXXX'
            maxLength: 250
            minLength: 1
            type: string
        required:
          - notification_medium
          - tokens
        type: object
  responses:
    '201':
      description: Status 201
  summary: STAGE=UNK Create a new optin
  tags:
    - profiles
x-restlet:
  section: PROFILES
